/*! mitradstuttgart.de - 2015-03-05 */
function showAttendance(a,b){if(void 0!==b){var c=d3.scale.category10(),d=600,e=400,f={top:20,right:40,bottom:40,left:40},g=d-f.left-f.right,h=e-f.top-f.bottom,i=d3.scale.ordinal().rangePoints([0,g]),j=j=d3.scale.linear().range([h,0]);d3.json(a,function(a,k){if(a)return void console.error(a);var l=d3.select("#"+b).append("svg").attr("width",d).attr("height",e).append("g").attr("transform","translate("+f.left+","+f.top+")");axes=drawAxes(l,k,i,j,g,h),drawPaths(l,k,i,j,c),drawLegend(l,c,g,h)})}}function drawAxes(a,b,c,d,e,f){var g=d3.svg.axis().scale(c).tickFormat(function(a){return toMonthName(a)}).orient("bottom");c.domain(b.map(function(a){return a.Month})),a.append("g").attr("class","x axis").attr("transform","translate(0,"+f+")").call(g);var h=d3.svg.axis().scale(d).orient("left"),i=d3.max(b,function(a){var b=0;for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&"Month"!=c&&a[c]>b&&(b=a[c]);return b});d.domain([0,i]),a.append("g").attr("class","y axis").call(h)}function drawPaths(a,b,c,d,e){a.datum(b);var f={};b.forEach(function(a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&"Month"!=b&&(f[b]={})});var g=[];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&g.push(h);for(var i=g.length-1;i>=0;i--){var j=g[i],k=d3.svg.area().interpolate("monotone").x(function(a){return c(a.Month)}).y0(function(){return d(0)}).y1(function(a){return d(void 0!==a[j]?a[j]:0)});a.append("path").attr("d",k).style("fill-opacity",.3).style("fill",function(){return e(j)}).style("stroke-width",0).attr("clip-path","url(#rect-clip)");var l=d3.svg.line().interpolate("monotone").x(function(a){return c(a.Month)}).y(function(a){return d(void 0!==a[j]?a[j]:0)});a.append("path").attr("d",l).style("fill","transparent").style("stroke",e(j)).style("stroke-width",2)}}function drawLegend(a,b,c){var d=a.selectAll(".legend").data(b.domain().slice().reverse()).enter().append("g").attr("transform",function(a,b){return"translate(0,"+20*b+")"});d.append("rect").attr("x",c-18).attr("width",18).attr("height",18).style("fill-opacity",1).style("fill",b),d.append("text").attr("x",c-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(a){return a})}function toMonthName(a){switch(a){case 1:return"Jan.";case 2:return"Feb.";case 3:return"MÃ¤rz";case 4:return"April";case 5:return"Mai";case 6:return"Juni";case 7:return"Juli";case 8:return"Aug.";case 9:return"Sep.";case 10:return"Okt.";case 11:return"Nov.";case 12:return"Dez.";default:return a}}